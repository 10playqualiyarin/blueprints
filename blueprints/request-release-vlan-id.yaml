spec_version: 2
description: Performance testing deployment based on RDS, EKS and Lambda
inputs:
  cs_host:
    type: string
    allowed-values: [0.9.7, 0.9.8, 0.9.9]
    default: "0.9.9"
    description: "The version of the application to be deployed on the EKS cluster"
  cs_user:
    type: string
  cs_password:
    type: string
  cs_sandbox_id:
    type: string

grains:
  vlan_id:
    kind: terraform
    spec:
      source:
        path: terraform/cloudshell_vlan_pool
        store: torque-tf-blueprints
      inputs:
        - hostname: "{{ .inputs.cs_host }}"
        - username: "{{ .inputs.cs_user }}"
        - password:  "{{ .inputs.cs_password }}"
        - sandbox_id: "{{ .inputs.cs_sandbox_id }}"
        - torque_sandbox_id: "{{ sandboxid }}"
      outputs:
        - vlan_id
      agent:
        name: das-local	
      