spec_version: 2-preview

description: description text



inputs:
  tf-service-account:
    type: string
    display-style: normal
    default: "test-terraform-sa"
    description: "custom service account for terraform"



# outputs:
#   some-name:
#     value: .grains.app1.outputs.output_name



grains:

#   helloTF1:
#     kind: terraform
#     spec:
#       source:
#         store: autogen_repo_sandbox_3416a76b
#         path: terraform/simple-tf-module
#         #path: github.com/QualiNext/test-spec2-public.git//terraform/simple-tf-module
#       host:
#         cloud-account: aws
#         compute-service: eks
#       # inputs:
#       #   - input_name: .inputs.some-name
#       # ouputs:
#       #   - output-name

  helloTF2:
    kind: terraform
    spec:
      source:
        path: github.com/QualiNext/test-spec2-public.git//terraform/simple-tf-module
      host:
        cloud-account: aws
        compute-service: eks
        service-account: '{{.inputs.tf-service-account}}'
      # inputs:
      #   - input_name: .inputs.some-name
      # ouputs:
      #   - output-name



#   helloHelm:
#     kind: helm
#     #depends-on: app1(,another grain, another grain)
#     spec:
#       source:
#         path: https://github.com/bitnami/charts.git//bitnami/node
#       host:
#         cloud-account: aws
#         compute-service: eks
#         service-account: test-admin-sa
#         # region: eu-west-1
#         # os: <os_moniker>
#       commands:
#         - "dep up bitnami/node"

#       # inputs:
#       #   - someInput: .grains.app1.outputs.output-name
